# ================================
# Docker Compose per Expo + Supabase
# Modalit√† tunnel (ngrok)
# ================================

services:
  expo:
    build: .
    container_name: expo
    working_dir: /usr/src/expo_app

    # Espone le porte usate da Expo e Metro
    ports:
      - "8081-8090:8081-8090"

    # Monta il codice locale nel container (hot reload)
    volumes:
      - ./expo_app:/usr/src/expo_app
      - /usr/src/app/node_modules

    # Variabili d'ambiente
    environment:
      - EXPO_DEVTOOLS_LISTEN_ADDRESS=0.0.0.0
      - EXPO_USE_DEV_SERVER=true

    stdin_open: true
    tty: true
